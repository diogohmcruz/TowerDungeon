:host {
  display: flex;
  flex-direction: column;
}

.tower-dungeon-wrapper {
  flex: 1 0 auto;
  width: 100%;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  position: relative;
  background: linear-gradient(to top, #e0e6ef 0 60%, #f6f7fb 60% 100%);
}

.tower-dungeon {
  align-items: center;
  display: flex;
  flex-direction: column;
  height: 100%;
  max-width: 160px;
  position: relative;
  width: 100%;
  z-index: 1;

  .tower-body {
    flex: 1 0 auto;
    width: 100%;
    z-index: 3;
    display: flex;
    flex-direction: column-reverse;
    align-items: stretch;
    overflow: visible;
  }

  .tower-floor {
    flex: 0 0 auto;
    width: 100%;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: space-evenly;
    position: relative;
    transition: background 0.3s;
    background: #888;
    border-left: 5px solid #7c7c7c;
    border-right: 5px solid #7c7c7c;
    border-bottom-color: #6c6c6c;
    border-radius: 0 0 12px 12px;
    box-sizing: border-box;
    box-shadow: 0 2px 8px 0 rgba(70, 70, 70, 0.09);

    .windows {
      display: flex;
      gap: 7px;
      top: 8px;
      justify-content: center;
      z-index: 10;

      .window {
        width: 10px;
        height: 16px;
        background: #e0e0e0;
        border-radius: 3px 3px 6px 6px / 3px 3px 9px 9px;
        border: 1px solid #bbb;
        box-shadow: 0 1px 2px #ccc;
      }
    }

    .floor-label {
      color: #282828;
      font-size: 0.85em;
      font-weight: bold;
      bottom: 3px;
      text-align: center;
      opacity: 0.65;
      pointer-events: none;
      user-select: none;
      z-index: 12;
      text-shadow: 0 0 2px #fff, 0 2px 2px #bbb;
    }
  }

  .cloud-cover {
    align-items: center;
    display: flex;
    justify-content: center;
    pointer-events: none;
    position: relative;
    z-index: 20;

    .cloud {
      background: #f7f8fa;
      border-radius: 50%;
      box-shadow: 3px 7px 24px 3px #d1d1d1,
      0 0 0 0 #fff;
      opacity: 0.98;
      filter: blur(0.5px);
      position: absolute;
      width: 100%;
    }

    .cloud1 {
      width: 66px;
      height: 36px;
      left: -10px;
      bottom: 10px;
      z-index: 21;
    }

    .cloud2 {
      width: 32px;
      height: 18px;
      left: 16px;
      bottom: -2px;
      background: #f1f3f8;
      z-index: 22;
      opacity: 0.93;
    }

    .cloud3 {
      width: 44px;
      height: 25px;
      left: 33px;
      bottom: 3px;
      background: #f1f3f8;
      z-index: 22;
      opacity: 0.93;
    }

    .cloud4 {
      width: 32px;
      height: 18px;
      left: 66px;
      bottom: 14px;
      background: #e9eaee;
      z-index: 20;
    }

    .cloud5 {
      width: 44px;
      height: 25px;
      left: 80px;
      background: #f1f3f8;
      bottom: -1px;
      z-index: 23;
    }

    .cloud6 {
      width: 32px;
      height: 18px;
      left: 130px;
      bottom: 1px;
      background: #e9eaee;
      z-index: 19;
    }

    .cloud7 {
      width: 66px;
      height: 36px;
      left: 95px;
      bottom: 9px;
      background: #f1f3f8;
      z-index: 19;
    }

    .tower-floor {
      z-index: 1;
      position: absolute;
      bottom: 0;
    }
  }

  .tower-base {
    width: 120%;
    height: 22px;
    background: linear-gradient(180deg, #888 40%, #444 80%, #222 100%);
    border-radius: 22px 22px 10px 10px / 22px 22px 6px 6px;
    left: 4px;
    bottom: -11px;
    z-index: 4;
    box-shadow: 0 6px 12px #3d3d3d44, 0 2px 0 0 #fff inset;
    border: 2px solid #626262;
  }
}
